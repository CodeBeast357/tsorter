/*!
 * tsorter 2.0.0 - Copyright 2016 Terrill Dent, http://terrill.ca
 * JavaScript HTML Table Sorter
 * Released under MIT license, http://terrill.ca/sorting/tsorter/LICENSE
 * 
 * Updated by Harrison Kelly.
 */
var tsorter=function(){"use strict";var a,b,c,d,e,f,g,h=!!document.addEventListener,i="▼",j="▲";return g=document.createElement("style"),document.head.appendChild(g),g.sheet.addRule(".tsorterSortable th.descend:after",'content: " '+j+'"'),g.sheet.addRule(".tsorterSortable th.ascend:after",'content: " '+i+'"'),Object.create||(Object.create=function(a){var b=function(){};return b.prototype=a,new b}),b=function(a,b,c){h?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},c=function(a,b,c){h?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},d=function(a,b){var c,d=f(a,b),g=d?d.innerHTML:"";if(d&&(c=e(g)))return c},e=function(a){return/^\d+$/.test(a)?"numeric":null},f=function(a,b){for(var c=a;c.children&&c.children.length>0;)c=c.children[b];return c},a={getCell:function(a){var b=this;return b.trs[a].cells[b.column]},sort:function(a){var b,c=this,e=a.target,f=e.parentNode.tagName,g=e.getAttribute("data-tsorter")||d(c.trs[1],e.cellIndex),h=!!document.body.classList;"th"!==f.toLowerCase()&&(c.column=e.cellIndex,c.get=c.getAccessor(g),h?(b=e.classList,b.contains("descend")?(b.add("ascend"),b.remove("descend"),c.sortAscending=!0):b.contains("ascend")?(b.remove("ascend"),b.add("descend"),c.sortAscending=!1):(b.add("descend"),c.sortAscending=!1),c.prevCol!==-1&&c.prevCol!==c.column&&(c.ths[c.prevCol].classList.remove("ascend"),c.ths[c.prevCol].classList.remove("descend"))):(b=e.className.split(" "),b.indexOf("descend")>-1?(e.className=e.className.replace("descend","ascend"),c.sortAscending=!0):b.indexOf("ascend")>-1?(e.className=e.className.replace("ascend","descend"),c.sortAscending=!1):(e.className+=" descend",c.sortAscending=!1),c.prevCol!==-1&&c.prevCol!==c.column&&(c.ths[c.prevCol].className.replace("ascend",""),c.ths[c.prevCol].className.replace("descend",""))),c.quicksort(0,c.trs.length),c.prevCol=c.column)},getAccessor:function(a){var b=this,c=b.accessors;if(c&&c[a])return c[a];switch(a){case"link":return function(a){return b.getCell(a).firstChild.firstChild.nodeValue};case"input":return function(a){return b.getCell(a).firstChild.value};case"numeric":return function(a){return parseFloat(b.getCell(a).firstChild.nodeValue.replace(/\D/g,""))};default:return function(a){return b.getCell(a).firstChild.nodeValue.toLowerCase()}}},exchange:function(a,b){var c,d=this,e=d.tbody,f=d.trs;a===b+1?e.insertBefore(f[a],f[b]):b===a+1?e.insertBefore(f[b],f[a]):(c=e.replaceChild(f[a],f[b]),f[a]?e.insertBefore(c,f[a]):e.appendChild(c))},quicksort:function(a,b){var c,d,e,f=this;if(!(b<=a+1)){if(b-a===2)return void(f.get(b-1)>f.get(a)&&f.exchange(b-1,a));for(c=a+1,d=b-1,f.get(a)>f.get(c)&&f.exchange(c,a),f.get(d)>f.get(a)&&f.exchange(a,d),f.get(a)>f.get(c)&&f.exchange(c,a),e=f.get(a);;){if(f.sortAscending){for(;e>f.get(d);)d--;for(;f.get(c)>e;)c++}else{for(;e<f.get(d);)d--;for(;f.get(c)<e;)c++}if(d<=c)break;(f.get(c)>f.get(d)||f.get(c)<f.get(d))&&f.exchange(c,d),c++,d--}(f.get(a)>f.get(d)||f.get(a)<f.get(d))&&f.exchange(a,d),d-a<b-d?(f.quicksort(a,d),f.quicksort(d+1,b)):(f.quicksort(d+1,b),f.quicksort(a,d))}},init:function(a,c,e){var f,g,h,i=this;for("string"==typeof a&&(a=document.getElementById(a)),a.className.indexOf("tsorterSortable")<=-1&&(a.className+=" tsorterSortable"),i.table=a,i.ths=a.getElementsByTagName("th"),i.tbody=a.tBodies[0],i.trs=i.tbody.getElementsByTagName("tr"),i.prevCol=c&&c>0?c:-1,i.accessors=e,i.boundSort=i.sort.bind(i),f=0;f<i.ths.length;f++)b(i.ths[f],"click",i.boundSort),i.ths[f].style.cursor="pointer";void 0!==c&&i.ths.length>=c&&(i.ths[c].className+=" ascend",h=i.ths[c],g=h.getAttribute("data-tsorter")||d(i.trs[1],h.cellIndex),i.column=h.cellIndex,i.get=i.getAccessor(g),i.quicksort(1,i.ths.length),i.prevCol=i.column)},destroy:function(){var a,b=this;if(b.ths)for(a=0;a<b.ths.length;a++)c(b.ths[a],"click",b.boundSort)}},{create:function(b,c,d){var e=Object.create(a);return e.init(b,c,d),e}}}();